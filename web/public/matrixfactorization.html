<!DOCTYPE html>
<html lang='en'>
<head>
    <script type='text/javascript' src='http://code.jquery.com/jquery-latest.min.js'></script>
    <script src='https://d3js.org/d3.v4.min.js'></script>
    <meta http-equiv='content-type' content='text/html; charset=UTF-8'>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no'>
    <meta name='description' content=''>
    <meta name='author' content='Spotify Playlist Continuation MQP'>
    <title>Spotify MQP - Matrix Factorization Graph</title>
    <!-- CSS -->
    <link href='/css/bootstrap.css' rel='stylesheet'>
    <link href='/css/style.css' rel='stylesheet'>
    <link href='/css/datavis.css' rel='stylesheet'>
    <style>#content > #right > .dose > .dosesingle,#content > #center > .dose > .dosesingle{display:none !important;}</style>
</head>

<!-- Body -->
<body data-gr-c-s-loaded='true' onload="start_up()">
    <nav class='custom-nav navbar navbar-expand-md navbar-dark bg-green fixed-top'>
        <a class='navbar-brand' href='#'>Spotify Playlist Continuation MQP</a>
        <button class='navbar-toggler' type='button' data-toggle='collapse' data-target='#navbarsExampleDefault' aria-controls='navbarsExampleDefault' aria-expanded='false' aria-label='Toggle navigation'>
            <span class='navbar-toggler-icon'></span>
        </button>

        <div class='collapse navbar-collapse' id='navbarsExampleDefault'>
            <ul class='navbar-nav mr-auto'>
                <li class='nav-item active'>
                    <a class='nav-link' href='index.html'>Home</a>
                </li>
                <li class='nav-item active'>
                    <a class='nav-link' href='about.html'>About</a>
                </li>
                <li class='nav-item dropdown'>
                    <a class='nav-link dropdown-toggle' href='#' id='dropdown01' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false'>Explore</a>
                    <div class='dropdown-menu' aria-labelledby='dropdown01'>
                        <a class='dropdown-item' href='#'>NDCG Precision</a>
                        <!-- <a class='dropdown-item' href='#'>Graph 3</a> -->
                    </div>
                </li>
            </ul>
        </div>
    </nav>
    <main role='main' class='container'>
        <h1 align='center'>NDCG Precision Graph</h1>
        <div style="background-color: #999c9f; display:flex; justify-content: space-around;">
          <form id="myForm">
            <div style="display:flex; flex-direction: column; float: left; padding-left: 50px; padding-right:50px; padding-top:10px; padding-bottom:10px">
                <h5>Dataset</h5>
                <select id="op1" required>
                    <option value="">None Selected</option>
                    <option value="mpd_square_100">100^2 Playlist Set</option>
                    <option value="mpd_square_1000">1000^2 Playlist Set</option>
                  </select>
            </div>
            <div style="display:flex; flex-direction: column; float: right;  padding-left: 50px; padding-right:50px; padding-top:10px; padding-bottom:10px">
                <h5>Playlist</h5>
                <select id="playlists_op" class="datasetWarn" disabled required>
                    <option value="">Select Dataset First!</option>
                    <option value="">Select Playlist</option>
                </select>
            </div>
          </form>
          <input type="button" value="Run Evaluation" onclick="sendToServer()"></input>
        </div>
        <br>


        <!-------- NDCG line GRAPH -------->


        <!-- Container Div for all visualizations -->
        <table>
            <tr>
                <td class="graphCell">
                    <!-- <div id = 'parent'> -->
                    <div id="first">
                        <svg id='MatrixGraph' width='1000' height='600'></svg>
                    </div>
                </td>


                <td class="tableCell">
                    <!-- Results data table -->
                    <div id='narrow'>
                        <div id='result_table' style="display: inline-block;"></div>
                    </div>
                </td>
            </tr>
        </table>


        <br>
        <!-- </div> -->
    </main>
    <script type="text/javascript">
      var warning = document.getElementById('playlists_op');
          warning.onload = function () {
          warning.className = this.options[this.selectedIndex].className;
      };

      var op1Select = document.getElementById('op1');
          op1Select.onchange = function () {
          var op2Select = document.getElementById("playlists_op");
          var innerHTML = op2Select.options[op2Select.selectedIndex].text;
          if (innerHTML == "Select Dataset First!"){
              op2Select.remove(0)
              op2Select.disabled = false;
              op2Select.className = this.options[this.selectedIndex].className;
          }
          // populate the playlist option
          var sample = ["playlist 1", "playlist 2", "playlist 3"];
          var playlist;
          for (playlist = 0; playlist < sample.length; playlist++) {
              var x = document.getElementById("playlists_op");
              var option = document.createElement("option");
              option.text = sample[playlist];
              x.add(option);
          }
      };

      // var playlist_select = document.getElementById('playlists_op');
      //     playlist_select.onchange = function () {
      //         var op3Select = document.getElementById("op3");
      //         var innerHTML = op3Select.options[op3Select.selectedIndex].text;
      //         if (innerHTML == "Select Playlist First!"){
      //             op3Select.remove(0)
      //             op3Select.disabled = false;
      //             op3Select.className = this.options[this.selectedIndex].className;
      //         }
      // };
    </script>
    <script>
        function sendToServer() {
            var op1 = document.getElementById("op1").value;
            var op2 = document.getElementById("playlists_op").value;
            // var op3 = document.getElementById("op3").value;
            console.log(op1);
            console.log(op2);
            // console.log(op3);
        };
    </script>
    <!-- Bootstrap core JavaScript -->
    <script src='/js/popper.js'></script>
    <script src='/js/bootstrap.js'></script>
    <script src='/js/d3/table.js'></script>
    <script src='/js/d3/graphMaster.js'></script>
    <script src='/js/d3/radar_graph.js'></script>
    <script src='/js/d3/line_graph.js'></script>
</body>
<!-- Function to create everything -->
<script type='text/javascript'>
function start_up(){
  d3_god();
}
</script>
</html>
